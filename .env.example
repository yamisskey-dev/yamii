# Navi 人生相談APIサーバー設定
# このファイルを .env にコピーして設定してください
# Docker環境の場合は docker-compose.yml の environment セクションで設定

# 個別設定項目（他の用途で使用される場合）
NAVI_DB_HOST=db
NAVI_DB_PORT=5432
NAVI_DB_NAME=navi
NAVI_DB_USER=navi_user
NAVI_DB_PASSWORD=your_secure_password_here  # docker-compose.ymlのPOSTGRES_PASSWORDと合わせてください

# データベース接続プール設定
NAVI_DB_POOL_SIZE=10
NAVI_DB_MAX_OVERFLOW=20
NAVI_DB_ECHO=false

# GEMINI API設定
GEMINI_API_KEY=your_gemini_api_key_here

# セキュリティ設定
NAVI_SECRET_KEY=your_secret_key_here
NAVI_ENCRYPTION_ENABLED=true

# ログ設定
NAVI_LOG_LEVEL=INFO
NAVI_LOG_FORMAT=json
LOG_LEVEL=INFO
LOG_FILE=logs/navi.log

# E2EEキー管理設定
NAVI_KEY_STORAGE_PATH=.navi_keys

# ==============================
# Misskeyボット機能設定（統合版）
# ==============================

# ボット機能を有効化するかどうか
# Docker環境では docker-compose.yml で設定
ENABLE_MISSKEY_BOT=false

# Misskeyインスタンス設定（ボット有効時必須）
# 注意: BOT_で始まる新しい形式を使用
BOT_MISSKEY_HOST=your-misskey-instance.com
BOT_MISSKEY_ACCESS_TOKEN=your_misskey_access_token_here
BOT_USER_ID=your_bot_user_id
BOT_USERNAME=navi

# Navi API連携設定
BOT_NAVI_API_URL=http://localhost:8000
BOT_NAVI_API_TIMEOUT=30

# ボット機能設定
BOT_ENABLE_DM=true
BOT_ENABLE_MENTIONS=true
BOT_ENABLE_TIMELINE=false
BOT_ENABLE_GLOBAL_TIMELINE=false
BOT_SESSION_TIMEOUT=3600

# 危機対応設定
BOT_CRISIS_HOTLINES=いのちの電話: 0570-783-556, こころの健康相談統一ダイヤル: 0570-064-556

# ==============================
# 旧設定項目（互換性のため残置）
# ==============================

# 注意: これらは新しいBOT_* 設定に置き換わりました
# MISSKEY_INSTANCE_URL=https://your-misskey-instance.com  # 使用されません
# MISSKEY_ACCESS_TOKEN=your_misskey_access_token_here     # 使用されません
# BOT_NAME=navi                                           # BOT_USERNAME に変更
# BOT_DISPLAY_NAME=Navi - 人生相談AI                     # 使用されません
# BOT_LOG_LEVEL=INFO                                      # LOG_LEVEL に統合
# BOT_LOG_FILE=logs/navi_bot.log                         # LOG_FILE に統合
# BOT_REQUEST_TIMEOUT=30                                  # BOT_NAVI_API_TIMEOUT に変更
# BOT_SESSION_TIMEOUT=1800                               # BOT_SESSION_TIMEOUT に変更
# BOT_ENABLE_CRISIS_SUPPORT=true                         # 自動有効